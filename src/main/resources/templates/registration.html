<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Регистрация в приложении</title>
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <link rel="stylesheet" th:href="@{css/stylesIndex.css}" type="text/css"/>
</head>
<body>
<section class="top">
    <div class="top_center">
        <h1>
            Аренда инструмента
        </h1>
    </div>
</section>
<section class="center">
    <div class="registration">
        <form id="registration" method="post" th:action="@{/registration}">
            <div id="errors" hidden="true"></div>
            <div>
                <input name="userName" placeholder="Имя пользователя" type="text"/>
            </div>
            <div>
                <input type="password" id="password" name="password" placeholder="Пароль"/>
            </div>
            <div>
                <input type="password" id="confirm_password" name="passwordRepeat" placeholder="Повторно пароль"/>
            </div>
            <input id="submitButton" type="submit" disabled value="Зарегистрироваться" />
        </form>
    </div>
        <script th:inline="javascript" type="text/javascript">
            $("#confirm_password").on("keyup", function() {

              var value_input1 = $("#password").val();
              var value_input2 = $("#confirm_password").val(); //
              console.log ("function");
              if(value_input1 != value_input2) {
                  console.log("password incorrect");
                  $("#submitButton").attr("disabled",true);
                  $(".error").html("Пароли не совпадают!");
                  $("#submit").attr("disabled", "disabled");

                } else {
                      console.log("password correct");
                      $("#submitButton").attr("disabled",false);
                      $("#submit").removeAttr("disabled");
                      $(".error").html("");
                    }

            });$("#confirm_password").on("keyup", function() { // Выполняем скрипт при изменении содержимого 2-го поля

              var value_input1 = $("#password").val(); // Получаем содержимое 1-го поля
              var value_input2 = $("#confirm_password").val(); // Получаем содержимое 2-го поля
              console.log ("function");
              if(value_input1 != value_input2) { // Условие, если поля не совпадают
                  console.log("password incorrect");
                  $("#submitButton").attr("disabled",true);
                  $(".error").html("Пароли не совпадают!"); // Выводим сообщение
                  $("#submit").attr("disabled", "disabled"); // Запрещаем отправку формы

                } else { // Условие, если поля совпадают
                      console.log("password correct");
                      $("#submitButton").attr("disabled",false);
                      $("#submit").removeAttr("disabled");  // Разрешаем отправку формы
                      $(".error").html(""); // Скрываем сообщение
                    }

            });
        </script>
</section>

</body>